<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <title><%= title %></title>
  </head>
  <body style="background-color: #f5f5f5; padding-left: calc(100vw - 100%)">
    <% if (created) { %>
    <div class="alert alert-success" style="margin-left: -15px" role="alert">
      Заметка была добавлена!
    </div>
    <% } %> <% if (error) { %>
    <div class="alert alert-danger" style="margin-left: -15px" role="alert">
      Что-то пошло не так...
    </div>
    <% } %>

    <div
      class="container mx-auto vh-100 d-flex flex-column justify-content-center"
    >
      <h1 class="text-center"><%= title %></h1>

      <form action="/" method="post" class="mt-5 mb-3">
        <div class="form-group mb-3">
          <input
            type="text"
            class="form-control"
            name="title"
            required
            placeholder="Новая заметка..."
          />
        </div>

        <button type="submit" class="btn btn-primary">Создать</button>
      </form>

      <% if (notes.length) { %>

      <div class="card mb-3">
        <ul class="list-group">
          <% for (let i = 0; i < notes.length; i++) { %>

          <li
            class="list-group-item d-flex justify-content-between align-items-center note"
          >
            <span data-type="note-<%= notes[i].id %>" class="px-2">
              <%= notes[i].title %>
            </span>
            <div class="btn-group">
              <button
                class="btn btn-primary me-2"
                data-type="edit"
                data-id="<%= notes[i].id %>"
              >
                Изменить
              </button>
              <button
                class="btn btn-danger"
                data-type="remove"
                data-id="<%= notes[i].id %>"
              >
                &times;
              </button>
            </div>
          </li>
          <% } %>
        </ul>
      </div>

      <% } else { %>

      <div class="alert alert-info" role="alert">Заметок нет</div>

      <% } %>
    </div>

    <script src="app.js"></script>
  </body>
</html>
